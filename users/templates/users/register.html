{% extends "shop/base.html" %}
{% load static %}

{% block content %}
<div class="background-image login" style="overflow: hidden;">
  <div class="d-flex align-items-center justify-content-start max-vh-100" style="overflow: hidden;">
    <div class="container">
      <div class="row" style="overflow: hidden; margin-left:0;">
        <div class="col-md-6 d-flex flex-column justify-content-center text-center"
             style="min-height: 100vh; background-color: rgba(128, 128, 128, 0.85);
                    border: solid 1px black; border-radius: 10px; padding: 30px;
                    font-family: fantasy;">

          <h3 class="mb-4">Register</h3>

          <form method="post" class="text-start">
            {% csrf_token %}

            <!-- Username -->
            <div class="mb-3">
              <label for="{{ form.username.id_for_label }}" class="form-label">Username</label>
              {{ form.username }}
              {% if form.username.errors %}
                <div class="text-danger small">{{ form.username.errors }}</div>
              {% endif %}
            </div>

            <!-- Email -->
            <div class="mb-3">
              <label for="{{ form.email.id_for_label }}" class="form-label">Email</label>
              {{ form.email }}
              {% if form.email.errors %}
                <div class="text-danger small">{{ form.email.errors }}</div>
              {% endif %}
            </div>

            <!-- Password -->
            <div class="mb-3">
              <label for="{{ form.password.id_for_label }}" class="form-label">Password</label>
              {{ form.password }}
              {% if form.password.errors %}
                <div class="text-danger small">{{ form.password.errors }}</div>
              {% endif %}
            </div>

            <!-- Confirm Password -->
            <div class="mb-3">
              <label for="{{ form.password2.id_for_label }}" class="form-label">Confirm Password</label>
              {{ form.password2 }}
              {% if form.password2.errors %}
                <div class="text-danger small">{{ form.password2.errors }}</div>
              {% endif %}
            </div>

            <!-- Submit -->
            <button type="submit" class="btn btn-primary w-100 mt-3">Register</button>
          </form>
          <p class="text-center mt-3 mb-0">
      Already have an account?
      <a href="{% url 'users:login' %}" class="text-decoration-underline" style="color: rgb(1, 73, 1) !important;">Login</a>
    </p>

          {% if form.non_field_errors %}
            <div class="mt-3" style="color: rgb(119, 2, 2);">
              {{ form.non_field_errors }}
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  html, body {
    height: 100%;
    margin: 0;
    overflow: hidden;
  }

  .background-image.login {
    height: 100vh;
    width: 100vw;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat !important;
  }
</style>
{% endblock %}
